# Kadokawa 电子书爬虫工具集

本工具包含两个用于抓取 Kadokawa 网站小说内容的脚本。由于 Kadokawa 风控较严，本工具尽量以安全、低频方式模拟访问流程。

## 📌 使用说明

### 1. `kadokawa_login.py` — 用于需要登录后才能查看的付费章节

适用于付费内容、登录可见章节。

运行脚本后，会自动打开 Kadokawa 登录页面，并提示：

```
====== 请在浏览器中完成手动登录 ======
操作步骤：
  1) 在打开的浏览器窗口中输入你的帐号/密码并提交（或使用 Google 登录）。
  2) 登录完成后，回到此终端并按回车继续脚本（脚本会检查是否能看到正文）。
```

脚本会等待用户手动登录，然后再继续抓取章节内容。

### 2. `kadokawa_epub_spider.py` — 用于无需登录即可阅读的免费章节

如果章节打开即可阅读（例如免费试读、公开章节），请使用这个脚本。

无需账号、无需登录，直接运行即可抓取页面内容。

---

## ⚠️ 风控注意事项（强烈建议）

Kadokawa 的反爬机制严格：

- **请务必加入 `time.sleep(2~5)` 的访问延迟**，避免触发风控。
- 脚本中已保留可调节的等待时间，你可以根据情况自行调整。
- 建议使用稳定 IP，避免短时间大量请求。

---

## 🔍 调试说明

- 两个脚本都 **默认关闭了无头浏览器（headless）**，便于观察浏览器行为。
- 如需静默运行，可自行在代码中将 headless 模式设置为 `True`。

---

## 📂 文件结构

```bash
.
├── kadokawa_login.py              # 登录后抓取付费章节
├── kadokawa_epub_spider.py       # 免费章节抓取脚本
├── epub/                          # 已抓取的示例 EPUB 小说文件
└── README.md
```

### 📁 `epub/` 文件夹

`epub/` 文件夹中包含已经抓取过的小说示例文件。

---

## 💡 环境依赖

- Python 3.8+
- `selenium`
- `requests`
- `beautifulsoup4`
- 浏览器驱动（如 `chromedriver`，需与本地 Chrome 浏览器版本匹配）

安装依赖示例：

```bash
pip install selenium requests beautifulsoup4
```

---

## ✅ 使用示例

### 抓取无需登录的章节：

```bash
python kadokawa_epub_spider.py
```

### 抓取需要登录的章节：

```bash
python kadokawa_login.py
# 浏览器打开后 → 手动完成登录 → 回到终端按回车继续
```

---

欢迎二次开发与完善，如需合并章节或其他功能，请根据项目需求自行扩展。
